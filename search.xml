<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>使用docz写ReactUI文档</title>
      <link href="/blog/2019/12/03/%E4%BD%BF%E7%94%A8docz%E5%86%99ReactUI%E6%96%87%E6%A1%A3/"/>
      <url>/blog/2019/12/03/%E4%BD%BF%E7%94%A8docz%E5%86%99ReactUI%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<h1 id="DOCZ-写-React-UI-组件文档"><a href="#DOCZ-写-React-UI-组件文档" class="headerlink" title="DOCZ 写 React UI 组件文档"></a>DOCZ 写 React UI 组件文档</h1><blockquote><p>使用简单，目前只支持 React</p></blockquote><ul><li><a href="https://www.docz.site/" target="_blank" rel="noopener">官网</a></li><li><a href="https://github.com/doczjs/docz" target="_blank" rel="noopener">Github</a></li></ul><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ol><li>安装</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add docz</span><br></pre></td></tr></table></figure><ol start="2"><li>在你项目中的任何位置新增 <code>.mdx</code> 文件</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">name: Button</span><br><span class="line">route: /</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">import &#123; Playground, Props &#125; from &apos;docz&apos;</span><br><span class="line">import Button from &apos;./Button&apos;</span><br><span class="line"></span><br><span class="line"># Button</span><br><span class="line"></span><br><span class="line">&lt;Props of=&#123;Button&#125; /&gt;</span><br><span class="line"></span><br><span class="line">## Basic usage</span><br><span class="line"></span><br><span class="line">&lt;Playground&gt;</span><br><span class="line">  &lt;Button type=&quot;submit&quot;&gt;Click me&lt;/Button&gt;</span><br><span class="line">  &lt;Button&gt;No, click me&lt;/Button&gt;</span><br><span class="line">&lt;/Playground&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li>And a Button component Button.jsx:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;</span><br><span class="line">import t from &apos;prop-types&apos;</span><br><span class="line"></span><br><span class="line">const Button = (&#123; children, type &#125;) =&gt; &lt;button type=&#123;type&#125;&gt;&#123;children&#125;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">Button.propTypes = &#123;</span><br><span class="line">  /**</span><br><span class="line">   * This is a description for this prop.</span><br><span class="line">   * Button type.</span><br><span class="line">   */</span><br><span class="line">  type: t.oneOf([&apos;button&apos;, &apos;submit&apos;, &apos;reset&apos;]),</span><br><span class="line">&#125;</span><br><span class="line">Button.defaultProps = &#123;</span><br><span class="line">  type: &apos;button&apos;,</span><br><span class="line">&#125;</span><br><span class="line">export default Button</span><br></pre></td></tr></table></figure><ol start="4"><li>运行</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn docz dev</span><br></pre></td></tr></table></figure><p>This will start a local development server and open your documentation site in the browser.</p><h2 id="常用配置项"><a href="#常用配置项" class="headerlink" title="常用配置项"></a>常用配置项</h2><p>项目下新建 <code>doczrc.js</code>，更多配置项参考：<a href="https://www.docz.site/docs/project-configuration" target="_blank" rel="noopener">https://www.docz.site/docs/project-configuration</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    typescript: true,</span><br><span class="line">    title: &apos;docz&apos;,</span><br><span class="line">    ignore: [&apos;README.md&apos;, &apos;CHANGELOG.md&apos;],</span><br><span class="line">    port: &apos;3000&apos;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h4 id="typescript"><a href="#typescript" class="headerlink" title="typescript"></a>typescript</h4><p>This option is used if you need to import Typescript components inside your .mdx files.</p><h4 id="port"><a href="#port" class="headerlink" title="port"></a>port</h4><p>启动服务端口</p><h4 id="ignore"><a href="#ignore" class="headerlink" title="ignore"></a>ignore</h4><p>Option used to ignore files to be parsed by docz.</p><h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="Using-Docz-parsing-CSS-with-LESS"><a href="#Using-Docz-parsing-CSS-with-LESS" class="headerlink" title="Using Docz parsing CSS with LESS"></a>Using Docz parsing CSS with LESS</h3><blockquote><p>参考 <a href="https://github.com/doczjs/docz/tree/master/examples/less" target="_blank" rel="noopener">https://github.com/doczjs/docz/tree/master/examples/less</a></p></blockquote><ol><li>安装 <code>gatsby-plugin-less</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install gatsby-plugin-less -D</span><br></pre></td></tr></table></figure><ol start="2"><li>根目录下新建 <code>gatsby-config.js</code>，并写入</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: [&apos;gatsby-plugin-less&apos;],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>执行 <code>yarn docz dev</code></li></ol><h3 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h3><ol><li>在项目根目录下新建 <code>docz</code>（文件名不限定于 <code>docz</code>，可自定义）文件夹</li><li>在 <code>docz</code> 目录下 新建 <code>gatsby-theme-docz/wrapper.js</code>，<code>gatsby-theme-docz/global.css</code></li></ol><h5 id="wrapper-js"><a href="#wrapper-js" class="headerlink" title="wrapper.js"></a>wrapper.js</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import &apos;./global.css&apos;;</span><br><span class="line"></span><br><span class="line">export default function Wrapper(props) &#123;</span><br><span class="line">    return &lt;div&gt;&#123;props.children&#125;&lt;/div&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="global-css"><a href="#global-css" class="headerlink" title="global.css"></a>global.css</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> doc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> doc </tag>
            
            <tag> 交互式文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于less提供的modifyVars实现主题切换</title>
      <link href="/blog/2019/11/12/%E5%9F%BA%E4%BA%8Eless%E6%8F%90%E4%BE%9B%E7%9A%84modifyVars%E5%AE%9E%E7%8E%B0%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2/"/>
      <url>/blog/2019/11/12/%E5%9F%BA%E4%BA%8Eless%E6%8F%90%E4%BE%9B%E7%9A%84modifyVars%E5%AE%9E%E7%8E%B0%E4%B8%BB%E9%A2%98%E5%88%87%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/ElemeFE/element/issues/3054" target="_blank" rel="noopener">https://github.com/ElemeFE/element/issues/3054</a></p><p><a href="https://blog.csdn.net/weixin_30872671/article/details/98286899" target="_blank" rel="noopener">https://blog.csdn.net/weixin_30872671/article/details/98286899</a> - 使用 css/less 动态更换主题色（换肤功能）</p><p><a href="https://www.cnblogs.com/starof/p/5226739.html" target="_blank" rel="noopener">https://www.cnblogs.com/starof/p/5226739.html</a> - less 简单入门</p><h2 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h2><p>使用 less 提供的 modifyVars 的方式来实现。<br><a href="http://lesscss.org/usage/#using-less-in-the-browser-modify-variables" target="_blank" rel="noopener">http://lesscss.org/usage/#using-less-in-the-browser-modify-variables</a></p><p>modifyVars 方法是是基于 less 在浏览器中的编译来实现。所以在引入 less 文件的时候需要通过 link 方式引入，然后基于 less.js 中的方法来进行修改变量。</p><p><a href="https://github.com/yemuguliunian/notes/tree/master/practice/theme-preview" target="_blank" rel="noopener">代码实现</a></p><a id="more"></a><h3 id="index-html-引入主题色文件-和-less-js"><a href="#index-html-引入主题色文件-和-less-js" class="headerlink" title="index.html 引入主题色文件 和 less.js"></a>index.html 引入主题色文件 和 less.js</h3><p>less 样式文件一定要在引入 less.js 前先引入。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// color.less</span><br><span class="line">@backgroud-color: #108ee9;</span><br><span class="line"></span><br><span class="line">.ant-btn &#123;</span><br><span class="line">    background-color: @backgroud-color;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// index.html</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet/less&quot; type=&quot;text/css&quot; href=&quot;./resources/style/color.less&quot; /&gt;</span><br><span class="line">    &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.3/less.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure><h3 id="更改主题色事件"><a href="#更改主题色事件" class="headerlink" title="更改主题色事件"></a>更改主题色事件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">less.modifyVars(&#123;</span><br><span class="line">    '@backgroud-color': #000</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>通过 less modifyVars 修改变量来达到换主题的效果。其本质上是样式覆盖。</p><p>less.js 会 把 color.less 浏览器编译成 行内样式 即 F12 查看 index.html 可发现</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"./resources/style/color.less"</span> /&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">id</span>=<span class="string">"less:resources-style-color"</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.ant-btn</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#108ee9</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.3/less.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>       </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p>调用 modifyVars 后重新编译为</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet/less"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"./resources/style/color.less"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">id</span>=<span class="string">"less:resources-style-color"</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-class">.ant-btn</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#000</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.3/less.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本质上是对页面 <code>ant-btn</code> 类属性 <code>background-color</code> 一个覆盖操作。</p><p><strong><code>index.html</code> 行内样式中的 <code>ant-btn</code> 类属性 <code>background-color</code> 覆盖页面中的 <code>ant-btn</code> 类属性 <code>background-color</code></strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// demo.html</span><br><span class="line">&lt;button class=&quot;ant-btn&quot;&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">// demo.css</span><br><span class="line">.ant-btn &#123;</span><br><span class="line">    background-color: #108ee9;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注：执行 modifyVars 时， color.less 文件本身没有任何变更，编译时传入修改变量所对应的值</p>]]></content>
      
      
      <categories>
          
          <category> css </category>
          
      </categories>
      
      
        <tags>
            
            <tag> less </tag>
            
            <tag> 主题切换 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
